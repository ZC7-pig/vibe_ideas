# 宠+邻里 - 智能宠物社区小程序

## 项目简介

宠+邻里是一个基于微信小程序的智能宠物社区平台，专注于解决宠物走失、领养和邻里互助等问题。通过智能匹配算法，自动为用户推送相关的寻宠、捡宠信息，提高宠物找回的成功率。

## 核心价值

**自动匹配和提醒用户关于"宠物寻找/领养"的本地化场景，提升效率**

## 主要功能

### 🔍 智能匹配系统
- 基于宠物特征（品种、颜色、性别、年龄）的智能匹配
- 地理位置就近匹配
- 实时推送匹配结果通知

### 📝 帖子管理
- **寻宠帖**：发布走失宠物信息
- **捡宠帖**：发布捡到宠物信息  
- **领养帖**：发布宠物领养信息
- **日常帖**：分享宠物日常生活

### 💬 社区互动
- 评论和回复功能
- 点赞和收藏
- 私信联系
- 帮助统计

### 🔔 消息通知
- 匹配结果通知
- 评论回复通知
- 点赞通知
- 系统消息

### 🔍 搜索功能
- 关键词搜索
- 筛选条件（类型、品种、颜色等）
- 搜索历史和热门搜索

## 技术架构

### 前端技术
- **框架**：微信小程序原生开发
- **UI组件**：自定义组件库
- **状态管理**：页面级状态管理
- **地图服务**：微信地图API

### 后端技术
- **云开发**：微信云开发
- **数据库**：云数据库
- **云函数**：Node.js
- **存储**：云存储

### 核心云函数
- `auth` - 用户认证和管理
- `posts` - 帖子管理
- `comments` - 评论管理
- `matcher` - 智能匹配算法
- `notifications` - 通知管理

## 项目结构

```
宠+邻里/
├── miniprogram/                 # 小程序前端代码
│   ├── pages/                   # 页面文件
│   │   ├── index/              # 首页
│   │   ├── detail/             # 详情页
│   │   ├── publish/            # 发布页
│   │   ├── search/             # 搜索页
│   │   ├── messages/           # 消息页
│   │   └── profile/            # 个人中心
│   ├── utils/                  # 工具函数
│   ├── app.js                  # 小程序入口
│   ├── app.json               # 小程序配置
│   └── app.wxss               # 全局样式
├── cloudfunctions/             # 云函数
│   ├── auth/                   # 认证函数
│   ├── posts/                  # 帖子管理
│   ├── comments/               # 评论管理
│   ├── matcher/                # 智能匹配
│   └── notifications/          # 通知管理
├── database/                   # 数据库脚本
│   ├── init.js                # 初始化脚本
│   └── sample-data.js         # 示例数据
└── README.md                  # 项目说明
```

## 数据库设计

### 主要集合

- `users` - 用户信息
- `posts` - 帖子数据
- `comments` - 评论数据
- `likes` - 点赞记录
- `notifications` - 通知消息
- `matches` - 匹配记录

## 部署指南

### 1. 环境准备

1. 安装微信开发者工具
2. 注册微信小程序账号
3. 开通云开发服务

### 2. 项目配置

1. 克隆项目到本地
2. 用微信开发者工具打开项目
3. 修改 `project.config.json` 中的 `appid`
4. 在云开发控制台创建环境

### 3. 数据库初始化

1. 在云开发控制台运行 `database/init.js`
2. 创建必要的数据库索引
3. 运行 `database/sample-data.js` 添加测试数据

### 4. 云函数部署

1. 右键点击 `cloudfunctions` 文件夹
2. 选择"上传并部署：云端安装依赖"
3. 等待所有云函数部署完成

### 5. 权限配置

在云开发控制台配置数据库权限：
- 设置合适的读写权限
- 配置安全规则

## 使用说明

### 发布帖子
1. 点击首页"+"按钮
2. 选择帖子类型
3. 填写宠物信息和描述
4. 上传照片
5. 设置位置信息
6. 发布帖子

### 智能匹配
1. 系统自动分析新发布的寻宠/捡宠帖子
2. 基于宠物特征和位置进行匹配
3. 向相关用户推送匹配通知
4. 用户可查看匹配详情并联系

### 搜索功能
1. 在搜索页输入关键词
2. 使用筛选条件精确搜索
3. 查看搜索结果
4. 点击查看详情

## 开发规范

### 代码规范
- 使用ES6+语法
- 遵循微信小程序开发规范
- 统一的命名规范和注释

### 提交规范
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 代码重构

## 常见问题

### Q: 如何配置地图服务？
A: 在微信公众平台配置地图服务密钥，并在小程序中调用相关API。

### Q: 智能匹配算法如何工作？
A: 基于宠物特征相似度、地理位置距离等因素计算匹配分数，自动推送高匹配度的结果。

### Q: 如何处理图片上传？
A: 使用微信云存储服务，支持图片压缩和CDN加速。

## 更新日志

### v1.0.0 (2024-01-XX)
- 初始版本发布
- 实现基础功能模块
- 智能匹配算法上线

## 联系我们

如有问题或建议，请通过以下方式联系：
- 邮箱：contact@petcommunity.com
- 微信群：扫描二维码加入开发者群

## 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。