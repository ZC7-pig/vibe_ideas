<!--pages/profile/index.wxml-->
<view class="page-container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-section">
    <view class="user-info" wx:if="{{userInfo}}">
      <image class="user-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-details">
        <text class="user-name">{{userInfo.nickName}}</text>
        <text class="user-desc">å® ç‰©çˆ±å¥½è€…</text>
      </view>
    </view>
    
    <view class="login-prompt" wx:else>
      <view class="login-avatar">
        <icon type="contact" size="40" color="#ccc"></icon>
      </view>
      <view class="login-info">
        <text class="login-text">ç‚¹å‡»ç™»å½•</text>
        <text class="login-desc">ç™»å½•åå¯å‘å¸ƒå’Œç®¡ç†ä¿¡æ¯</text>
      </view>
      <button class="login-btn" bindtap="onLogin">ç™»å½•</button>
    </view>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section" wx:if="{{userInfo}}">
    <view class="stats-item">
      <text class="stats-number">{{stats.postCount || 0}}</text>
      <text class="stats-label">å‘å¸ƒ</text>
    </view>
    <view class="stats-item">
      <text class="stats-number">{{stats.notificationCount || 0}}</text>
      <text class="stats-label">æé†’</text>
    </view>
    <view class="stats-item">
      <text class="stats-number">{{stats.helpCount || 0}}</text>
      <text class="stats-label">å¸®åŠ©</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <!-- æˆ‘çš„å‘å¸ƒ -->
    <view class="menu-item" bindtap="onMyPostsTap" wx:if="{{userInfo}}">
      <view class="menu-icon">
        <icon type="edit" size="20" color="#FF8C00"></icon>
      </view>
      <text class="menu-text">æˆ‘çš„å‘å¸ƒ</text>
      <view class="menu-badge" wx:if="{{stats.postCount > 0}}">{{stats.postCount}}</view>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>

    <!-- æˆ‘çš„æé†’ -->
    <view class="menu-item" bindtap="onNotificationsTap" wx:if="{{userInfo}}">
      <view class="menu-icon">
        <icon type="info" size="20" color="#4DB6FF"></icon>
      </view>
      <text class="menu-text">æˆ‘çš„æé†’</text>
      <view class="menu-badge" wx:if="{{stats.unreadCount > 0}}">{{stats.unreadCount}}</view>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>

    <!-- æ”¶è—å¤¹ -->
    <view class="menu-item" bindtap="onFavoritesTap" wx:if="{{userInfo}}">
      <view class="menu-icon">
        <icon type="success" size="20" color="#52c41a"></icon>
      </view>
      <text class="menu-text">æ”¶è—å¤¹</text>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>

    <!-- æ”¶å…»ä¿¡æ¯ -->
    <view class="menu-item" bindtap="onAdoptionTap">
      <view class="menu-icon">
        <text class="menu-emoji">ğŸ¤—</text>
      </view>
      <text class="menu-text">æ”¶å…»ä¿¡æ¯</text>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>

    <!-- æœ¬åœ°æœåŠ¡ -->
    <view class="menu-item" bindtap="onServicesTap">
      <view class="menu-icon">
        <text class="menu-emoji">ğŸ¥</text>
      </view>
      <text class="menu-text">æœ¬åœ°æœåŠ¡</text>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>
  </view>

  <!-- è®¾ç½®èœå• -->
  <view class="menu-section">
    <!-- è®¾ç½® -->
    <view class="menu-item" bindtap="onSettingsTap">
      <view class="menu-icon">
        <icon type="setting" size="20" color="#666"></icon>
      </view>
      <text class="menu-text">è®¾ç½®</text>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>

    <!-- å¸®åŠ©ä¸åé¦ˆ -->
    <view class="menu-item" bindtap="onHelpTap">
      <view class="menu-icon">
        <icon type="info_circle" size="20" color="#666"></icon>
      </view>
      <text class="menu-text">å¸®åŠ©ä¸åé¦ˆ</text>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>

    <!-- å…³äºæˆ‘ä»¬ -->
    <view class="menu-item" bindtap="onAboutTap">
      <view class="menu-icon">
        <text class="menu-emoji">ğŸ¾</text>
      </view>
      <text class="menu-text">å…³äºæˆ‘ä»¬</text>
      <icon class="menu-arrow" type="arrow" size="16" color="#ccc"></icon>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section" wx:if="{{userInfo}}">
    <button class="logout-btn" bindtap="onLogout">é€€å‡ºç™»å½•</button>
  </view>

  <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
  <view class="version-info">
    <text class="version-text">å® ç‰©é‚»é‡Œ v1.0.0</text>
  </view>
</view>