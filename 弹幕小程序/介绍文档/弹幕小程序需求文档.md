# 手持横屏全屏幕弹幕微信小程序需求文档

## 1. 项目概述

### 1.1 项目背景
在线下演唱会、活动等场景中，观众常常需要一种醒目的方式来表达想法、传递信息或引起关注。传统的纸质标语或荧光棒等方式表达形式单一且不够灵活。本项目旨在开发一款微信小程序，利用手机屏幕作为显示媒介，实现全屏幕弹幕效果，为用户提供一种新颖、醒目且便捷的表达方式。

### 1.2 项目目标
开发一款手持横屏全屏幕弹幕微信小程序，使用户能够在线下活动中通过手机屏幕展示醒目的文字信息，实现快速、个性化的表达。

### 1.3 适用场景
- 演唱会/音乐节
- 体育赛事
- 粉丝见面会
- 企业年会/团建活动
- 校园活动
- 婚礼/庆典

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 弹幕显示
- **全屏横屏显示**：自动切换至横屏模式，全屏展示弹幕内容
- **高对比度显示**：提供黑底白字、白底黑字等高对比度配色方案，确保在各种光线环境下都清晰可见
- **大字体显示**：使用最大化的字体大小，确保远距离可见
- **屏幕常亮**：弹幕显示时保持屏幕常亮，避免自动锁屏

#### 2.1.2 文字编辑
- **快速输入**：提供文本输入框，支持快速输入文字内容
- **文字长度限制**：根据屏幕尺寸和字体大小，限制文字长度，确保显示效果
- **常用语快捷选择**：预设常用弹幕语句，如"爱你"、"加油"等，支持一键选择
- **历史记录**：保存用户历史输入，方便重复使用

#### 2.1.3 样式设置
- **字体颜色选择**：提供多种字体颜色选项
- **背景颜色选择**：提供多种背景颜色选项
- **显示效果预览**：实时预览弹幕效果
- **样式模板**：提供多种预设样式模板，如"应援款"、"告白款"、"庆祝款"等

#### 2.1.4 动效设置
- **滚动效果**：支持文字水平滚动显示
- **闪烁效果**：支持文字闪烁效果
- **渐变效果**：支持颜色渐变效果
- **动效速度调节**：允许用户调节动效速度

### 2.2 扩展功能

#### 2.2.1 多屏联动
- **群组创建**：创建多人联动群组
- **内容同步**：群组内同步显示相同内容
- **队形排列**：支持预设队形排列方式，如"一字排开"、"方阵"等

#### 2.2.2 定时切换
- **定时器**：设置定时自动切换不同弹幕内容
- **循环播放**：设置多条弹幕内容循环播放

#### 2.2.3 个性化定制
- **自定义字体**：支持选择不同字体样式
- **图片背景**：支持使用图片作为背景
- **特效叠加**：支持在文字上叠加特效，如星星、爱心等

#### 2.2.4 社交分享
- **截图分享**：一键截图并分享到社交媒体
- **小程序分享**：分享小程序给好友，邀请加入联动

## 3. 用户界面设计

### 3.1 页面结构
1. **启动页**：展示应用名称和简介
2. **主页**：包含"创建弹幕"、"我的弹幕"、"多人联动"三个主要入口
3. **弹幕编辑页**：文字输入、样式设置、动效设置等
4. **弹幕预览页**：预览弹幕效果
5. **弹幕展示页**：全屏横屏展示弹幕
6. **多人联动页**：创建/加入群组，设置联动参数
7. **设置页**：通用设置，如屏幕亮度、默认样式等

### 3.2 交互流程
1. 用户打开小程序，进入主页
2. 选择"创建弹幕"，进入弹幕编辑页
3. 输入文字内容，设置样式和动效
4. 点击"预览"，查看效果
5. 确认无误后，点击"全屏展示"，进入弹幕展示页
6. 在弹幕展示页，可通过屏幕边缘滑动手势返回编辑页

### 3.3 UI设计原则
- **简洁直观**：界面设计简洁明了，操作步骤少
- **大按钮设计**：考虑到活动现场可能光线不足，使用大按钮便于操作
- **高对比度**：使用高对比度配色，确保在各种环境下都清晰可见
- **横竖屏适配**：编辑页采用竖屏设计，展示页采用横屏设计，自动适配切换

## 4. 技术实现方案

### 4.1 开发环境
- 微信开发者工具
- 小程序基础库最低版本要求：2.10.0

### 4.2 技术架构
- 前端框架：原生微信小程序开发框架
- 状态管理：使用小程序全局数据和本地存储
- UI组件：自定义组件 + WeUI组件库

### 4.3 关键技术点
1. **屏幕方向控制**：
   - 使用wx.onDeviceMotionChange监听设备方向变化
   - 使用CSS transform实现横屏显示效果

2. **全屏显示**：
   - 使用wx.setKeepScreenOn保持屏幕常亮
   - 隐藏导航栏和状态栏，实现真正全屏效果

3. **文字渲染**：
   - 使用canvas绘制文字，实现更丰富的动效和样式
   - 根据屏幕尺寸动态计算最佳字体大小

4. **动效实现**：
   - 使用CSS animation实现基础动效
   - 复杂动效通过canvas动态绘制实现

5. **多设备联动**：
   - 使用WebSocket实现实时通信
   - 使用云开发数据库存储群组信息

### 4.4 性能优化
1. **渲染性能**：
   - 使用transform代替position实现动画效果
   - 避免频繁DOM操作，优化重绘性能

2. **电量优化**：
   - 根据动效复杂度动态调整刷新率
   - 提供省电模式选项

3. **内存管理**：
   - 合理控制canvas大小和数量
   - 及时释放不需要的资源

## 5. 项目计划

### 5.1 开发周期
- 需求分析与设计：1周
- 核心功能开发：2周
- 扩展功能开发：2周
- 测试与优化：1周
- 上线准备：1周
- 总计：约7周

### 5.2 迭代计划
- **v1.0**：实现基础弹幕显示和样式设置功能
- **v1.5**：添加动效设置和历史记录功能
- **v2.0**：实现多屏联动功能
- **v2.5**：添加定时切换和个性化定制功能
- **v3.0**：完善社交分享功能，优化用户体验

## 6. 风险评估

### 6.1 技术风险
- 不同机型屏幕适配问题
- 横屏模式兼容性问题
- 多设备联动稳定性问题

### 6.2 用户体验风险
- 电池消耗过快
- 操作流程复杂影响现场使用
- 文字大小与可见距离的平衡

### 6.3 风险应对策略
- 进行广泛的机型测试，确保兼容性
- 提供电池状态提示和省电模式
- 进行用户测试，优化操作流程
- 提供详细的使用指南和常见问题解答

## 7. 未来展望

### 7.1 功能扩展方向
- **AR增强**：结合AR技术，实现虚拟弹幕叠加现实场景
- **互动游戏**：增加互动游戏元素，如弹幕接力、弹幕投票等
- **智能推荐**：根据活动类型和用户历史，智能推荐弹幕内容
- **专业版**：针对商业活动和大型演出，提供专业版功能

### 7.2 商业化可能性
- 提供定制化企业版，用于企业活动和商业演出
- 开发品牌合作模板，如明星应援定制版
- 增加付费模板和特效包
- 与演唱会、体育赛事等活动主办方合作，提供官方支持的互动方案

## 8. 附录

### 8.1 术语表
- **弹幕**：在屏幕上滚动显示的文字信息
- **联动**：多个设备同步显示相同或相关内容
- **模板**：预设的弹幕样式组合

### 8.2 参考资料
- 微信小程序开发文档
- 用户调研报告
- 同类产品分析报告